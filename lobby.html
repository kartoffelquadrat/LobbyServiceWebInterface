<!DOCTYPE html>
<html lang="en">
<head>
    <!--    ToDo: add a funny icon-->
    <!--    <link rel="icon" href="arl.png">-->

    <meta charset="UTF-8">
    <script src="jquery.min.js"></script>
    <script src="loginUtils.js"></script>
    <script src="cookieTokenUtils.js"></script>
    <script src="navbar.js"></script>
    <script src="contextPathResolver.js"></script>
    <script type="text/javascript" src="md5.js"></script>
    <script type="text/javascript" src="testApiOnline.js"></script>
    <script type="text/javascript" src="lobby.js"></script>
    <script type="text/javascript" src="asyncGet.js"></script>
    <link rel="stylesheet" href="bootstrap.min.css"/>
    <link rel="stylesheet" href="lobbyservice.css"/>
</head>

<!--"onload"-script removes API unreachable warning if backend was successfully tested-->
<body onload="anonymousIntercept();timedTokenRenew();setupNavbar('Admin Zone');testApiOnline();prepareLobbyPage()">
<div id=RowDivWithBackground class="container fill bg-white">

    <!--dynamic load would be better than static copies over different html files. But it causes issues with the handler mapping (order messed up / unreliable.)-->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="navbar  w-100 order-3">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item">
                    <button id="settings-button" type="button" class="btn btn-outline-primary  mr-1 disabled">
                        Settings
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-sliders"
                             viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M11.5 2a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM9.05 3a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0V3h9.05zM4.5 7a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM2.05 8a2.5 2.5 0 0 1 4.9 0H16v1H6.95a2.5 2.5 0 0 1-4.9 0H0V8h2.05zm9.45 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm-2.45 1a2.5 2.5 0 0 1 4.9 0H16v1h-2.05a2.5 2.5 0 0 1-4.9 0H0v-1h9.05z"></path>
                        </svg>
                    </button>
                </li>
                <li class="nav-item">
                    <button id="toggle-button" type="button" class="btn btn-outline-primary mr-1">
                    </button>
                </li>
                <li class="nav-item">
                    <button id="logout-button" type="button" class="btn btn-outline-primary">
                        Log
                        out <a id="username-display"></a>
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                             class="bi bi-door-closed" viewBox="0 0 16 16">
                            <path fill-rule="evenodd"
                                  d="M3 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v13h1.5a.5.5 0 0 1 0 1h-13a.5.5 0 0 1 0-1H3V2zm1 13h8V2H4v13z"></path>
                            <path d="M9 9a1 1 0 1 0 2 0 1 1 0 0 0-2 0z"></path>
                        </svg>
                    </button>
                </li>
            </ul>
        </div>
    </nav>


    <!--    white overlay, perfect responsiveness-->
    <div class=fillinner>

        <!--actual page starts here-->
        <br/>
        <h1 style="text-align:center" class="title">Lobby</h1>
        <title>Lobby</title>

        <!--error message that is automatically removed from DOM if server is reachable (testApiOnline.js)-->
        <div id='notonline' class="alert alert-danger mt-5 col-md-12 d-none" role="alert">
            No connection to server!
        </div>

    <!--form to register a new user.-->
    <!--callback is registered in accounts.js -->
    <h3>Create new session</h3>
    <div class="form-group mt-3 col-md-12">
        <div class="input-group">
            <!-- the actual list of options generated by jquery, based on the list offered by the server.-->
            <select class="form-control" id="boardgameoptions">
            </select>
            <span class="input-group-addon"/>
            <button type="button" class="btn btn-outline-primary disabled" id="start-session-button">Create</button>
        </div>
    </div>

    <!-- empty table of users that is initialized on page load and refreshed if users are added -->
    <br/>
    <h3>Available sessions</h3>
    <div class="mt-3">
        <table class="table table-hover" id="sessiontable"/>
    </div>
</div>
</body>
</html>